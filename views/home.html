<h2>Available Vehicles</h2>
<div>
	<div class="legend">
		<p>
			Pick up:
		</p>
		<p>
			{{model.PickUpLocation}} on {{model.PickUpDateTime | date : 'medium'}}
		</p>
	</div>
	<div class="legend">
		<p>
			Return:
		</p>
		<p>
			{{model.ReturnLocation}} on {{model.ReturnDateTime | date : 'medium'}}
		</p>
	</div>
</div>
<div class="filter">
	<input type="search" ng-change="filtered()" ng-model="search.MakeModel" placeholder="Search for a vehicle model" />
	<span class="info" title="The last user filter/sort will be stored and will become the initial value for the next access to the page">(i)</span>
	<ul class="sorting">
		<li ng-repeat="item in sortOptions"
			ng-class="{selected: orderBy.replace('-', '') == item.value, desc: orderBy[0] == '-'}"
			ng-click="sort(item.value)">{{item.label}}</li>
	</ul>
</div>

<ul class="columns container is-multiline">
	<li ng-repeat="car in filteredCars = (cars | filter : search : strict) | orderBy : orderBy" class="vehicle column is-half">
		<div class="card">
			<div class="card-header">
				<h3 class="title">{{car.MakeModel}}</h3>
			</div>
			<div class="card-content">
				<div class="media">
					<div class="media-left">
						<img ng-src="{{car.PictureURL}}" alt="car picture">
					</div>
					<div class="media-content">
						<ul>
							<li class="is-size-6">{{car.FuelType}}</li>
							<li ng-if="car.DriveType !== 'Unspecified'" class="is-size-6">Drive type: {{car.DriveType}}</li>
							<li class="is-size-6">{{car.PassengerQuantity}} passengers ({{car.DoorCount}} doors)</li>
						</ul>
					</div>
				</div>
				<div class="content">
					<div class="level">
						<span class="level-item is-size-5 has-text-left has-text-weight-semibold">{{car.VendorName}}</span>
						<span class="level-item is-size-4 has-text-right has-text-weight-bold">{{car.EstimatedTotalAmount}} {{car.CurrencyCode | customCurrency}}</span>
					</div>
				</div>
			</div>
		</div>
	</li>
</ul>
<p ng-hide="filteredCars.length || isLoading" class="no-result">No results for "{{search.MakeModel}}"</p>
<div class="loading-container"  ng-show="isLoading" arya-busy="true">
	<div class="loading-indicator"></div>
</div>
